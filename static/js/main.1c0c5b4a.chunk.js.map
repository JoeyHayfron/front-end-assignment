{"version":3,"sources":["firebase/firebase.util.js","components/header/header.component.jsx","pages/home/home.page.jsx","components/custom-input/custom-input.component.jsx","pages/signin/signin.page.jsx","pages/signup/signup.page.jsx","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","otherRelevantData","a","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","log","message","auth","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","withRouter","history","className","to","currentUser","onClick","signOut","then","push","catch","error","Home","props","state","firstName","onAuthStateChanged","user","snapShot","data","userObj","setState","this","React","Component","CustomInput","label","handleChange","otherProps","onChange","value","length","SignIn","handleSubmit","event","preventDefault","password","loading","signInWithEmailAndPassword","target","name","onSubmit","type","required","color","css","size","SignUp","lastName","createUserWithEmailAndPassword","App","exact","path","component","Homepage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mcAcAA,IAASC,cAVM,CACXC,OAAQ,0CACRC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKZ,IAAMC,EAAyB,uCAAG,WACvCC,EACAC,GAFuC,mBAAAC,EAAA,yDAIlCF,EAJkC,wDAMjCG,EAAUC,EAAUC,IAAV,gBAAuBL,EAASM,MANT,SAQhBH,EAAQI,MARQ,iBAUzBC,OAVyB,wBAWNR,EAAvBS,YAAaC,EAAUV,EAAVU,MACfC,EAAY,IAAIC,KAZe,mBAe7BT,EAAQU,IAAR,aACJH,QACAC,aACGV,IAlB8B,0DAqBnCa,QAAQC,IAAI,sBAAuB,KAAIC,SArBJ,iCAwBhCb,GAxBgC,0DAAH,wDAuEzBc,EAAO3B,IAAS2B,OAChBb,EAAYd,IAASc,YAErBc,EAAiB,IAAI5B,IAAS2B,KAAKE,mBAChDD,EAAeE,oBAAoB,CAAEC,OAAQ,mBAG9B/B,EAAf,EADO,ICvDQgC,eAhCA,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAF,OACT,yBAAQC,UAAU,SAAlB,UACI,sBAAMA,UAAU,gBAAhB,SACK,cAAC,IAAD,CAAMC,GAAG,IAAT,SAAa,gDAElB,+BAEQR,EAAKS,YACL,sBAAMF,UAAU,mCAChBG,QACE,WACEV,EAAKW,UACJC,MAAK,WACJN,EAAQO,KAAK,QAEdC,OAAM,SAACC,GACNlB,QAAQC,IAAI,mBAAoBiB,EAAMhB,aAR5C,oBAeA,cAAC,IAAD,CAAMS,GAAG,UAAUD,UAAU,mCAA7B,2BCkBHS,G,wDAzCX,WAAYC,GAAO,IAAD,8BACd,cAAMA,IAEDC,MAAQ,CACTC,UAAW,IAJD,E,gEAQE,IAAD,OACfnB,EAAKoB,mBAAL,+BAAAnC,EAAA,MAAwB,WAAOoC,GAAP,mBAAApC,EAAA,0DAChBoC,EADgB,wBAEVnC,EAAUC,EAAUC,IAAV,gBAAuBiC,EAAKhC,MAF5B,SAIOH,EAAQI,MAJf,cAIVgC,EAJU,gBAKMA,EAASC,OALf,OAKVC,EALU,OAMhB,EAAKC,SAAS,CAACN,UAAWK,EAAQL,YAClCtB,QAAQC,IAAIwB,EAASC,QAPL,4CAAxB,yD,+BAaJ,OACI,qBAAKhB,UAAU,YAAf,SAEIP,EAAKS,YACL,gDAEmBiB,KAAKR,MAAMC,aAI9B,mE,GAjCOQ,IAAMC,Y,wBCYVC,G,MAfK,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,aAAiBC,EAA3B,+CAChB,sBAAKzB,UAAU,QAAf,UACA,mCAAOA,UAAU,aAAa0B,SAAUF,GAAkBC,IACzDF,EACC,uBACAvB,UAAS,UACPyB,EAAWE,MAAMC,OAAS,SAAW,GAD9B,qBADT,SAKGL,IAED,U,iBCLFM,E,kDAEF,WAAYnB,GAAO,IAAD,8BACd,cAAMA,IASVoB,aAAe,SAACC,GACZA,EAAMC,iBADgB,MAEI,EAAKrB,MAAxBzB,EAFe,EAEfA,MAAO+C,EAFQ,EAERA,SACd,EAAKf,SAAS,CAACgB,SAAS,IACxBzC,EAAK0C,2BAA2BjD,EAAO+C,GACtC5B,MAAK,SAACS,GACAA,GACC,EAAKJ,MAAMX,QAAQO,KAAK,KAExB,EAAKY,SAAS,CAACgB,SAAS,OAG/B3B,OAAM,SAACC,GACNlB,QAAQC,IAAI,mBAAmBiB,EAAMhB,SACrC,EAAK0B,SAAS,CAACgB,SAAS,QAxBZ,EA6BlBV,aAAe,SAACO,GAAW,IAAD,EACAA,EAAMK,OAArBC,EADe,EACfA,KAAMV,EADS,EACTA,MAEb,EAAKT,SAAL,eAAgBmB,EAAQV,KA7BxB,EAAKhB,MAAQ,CACTzB,MAAO,GACP+C,SAAU,GACVC,SAAS,GANC,E,qDAoCd,OACI,sBAAKlC,UAAU,oBAAf,UACI,uCACA,uBAAMsC,SAAUnB,KAAKW,aAArB,UACI,cAAC,EAAD,CAAaP,MAAM,QAAQgB,KAAK,QAAQF,KAAK,QAAQV,MAAOR,KAAKR,MAAMzB,MAAOsC,aAAcL,KAAKK,aAAcgB,UAAQ,IACvH,cAAC,EAAD,CAAajB,MAAM,WAAWgB,KAAK,WAAYF,KAAK,WAAWV,MAAOR,KAAKR,MAAMsB,SAAWT,aAAcL,KAAKK,aAAcgB,UAAQ,IACrI,wBAAQD,KAAK,SAASvC,UAAU,eAAhC,sBAEJ,oBAAGA,UAAU,gBAAb,oCAAoD,cAAC,IAAD,CAAMC,GAAG,YAAYD,UAAU,kBAA/B,yBACpD,cAAC,IAAD,CAAYA,UAAU,SAASyC,MAAM,UAAUP,QAASf,KAAKR,MAAMuB,QAASQ,IAAI,iGAI/DC,KAAM,a,GAnDlBvB,IAAMC,WA0DZvB,cAAW+B,GCxDpBe,G,wDACF,WAAYlC,GAAO,IAAD,8BACd,cAAMA,IAWVoB,aAAe,SAACC,GAAW,IAAD,EACyB,EAAKpB,MAA7CC,EADe,EACfA,UAAWiC,EADI,EACJA,SAAU3D,EADN,EACMA,MAAO+C,EADb,EACaA,SACnCF,EAAMC,iBACN,EAAKd,SAAS,CAACgB,SAAS,IACxBzC,EAAKqD,+BAA+B5D,EAAO+C,GAC1C5B,KADD,+BAAA3B,EAAA,MACM,WAAOoC,GAAP,SAAApC,EAAA,6DACFY,QAAQC,IAAI,cAAeuB,GADzB,SAEoBvC,EAA0BuC,EAAKA,KAAM,CAACF,YAAWiC,aAFrE,gBAIE,EAAKnC,MAAMX,QAAQO,KAAK,KACxB,EAAKY,SAAS,CAACgB,SAAS,KAL1B,2CADN,uDASC3B,OAAM,SAACC,GACJlB,QAAQC,IAAIiB,GACZ,EAAKU,SAAS,CAACgB,SAAS,QA3Bd,EA+BlBV,aAAe,SAACO,GAAW,IAAD,EACAA,EAAMK,OAArBC,EADe,EACfA,KAAMV,EADS,EACTA,MAEb,EAAKT,SAAL,eAAgBmB,EAAQV,KA/BxB,EAAKhB,MAAQ,CACTC,UAAW,GACXiC,SAAU,GACV3D,MAAO,GACP+C,SAAU,GACVC,SAAS,GARC,E,qDAsCd,OACI,sBAAKlC,UAAU,oBAAf,UACA,0CACA,uBAAMsC,SAAUnB,KAAKW,aAArB,UACI,cAAC,EAAD,CAAaP,MAAM,aAAac,KAAK,YAAYE,KAAK,OAAOZ,MAAOR,KAAKR,MAAMC,UAAWY,aAAcL,KAAKK,aAAcgB,UAAQ,IACnI,cAAC,EAAD,CAAajB,MAAM,YAAYc,KAAK,WAAWE,KAAK,OAAOZ,MAAOR,KAAKR,MAAMkC,SAAUrB,aAAcL,KAAKK,aAAcgB,UAAQ,IAChI,cAAC,EAAD,CAAajB,MAAM,QAAQgB,KAAK,QAAQF,KAAK,QAAQV,MAAOR,KAAKR,MAAMzB,MAAOsC,aAAcL,KAAKK,aAAegB,UAAQ,IACxH,cAAC,EAAD,CAAajB,MAAM,WAAWgB,KAAK,WAAWF,KAAK,WAAWV,MAAOR,KAAKR,MAAMsB,SAAUT,aAAcL,KAAKK,aAAcgB,UAAQ,IACnI,wBAAQD,KAAK,SAASvC,UAAU,kBAAhC,yBAEJ,oBAAGA,UAAU,gBAAb,sCAAsD,cAAC,IAAD,CAAMC,GAAG,UAAUD,UAAU,kBAA7B,sBACtD,cAAC,IAAD,CAAYA,UAAU,SAASyC,MAAM,UAAUP,QAASf,KAAKR,MAAMuB,QAASQ,IAAI,iGAI3DC,KAAM,a,GAtDlBvB,IAAMC,YA4DZvB,cAAW8C,GC5CXG,E,uKAdX,OACE,sBAAK/C,UAAU,MAAf,UACE,cAAC,EAAD,CAAQc,KAAMrB,EAAKS,cACnB,eAAC,IAAD,WACE,cAAC,IAAD,CAAO8C,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,UAAUC,UAAWrB,IACvC,cAAC,IAAD,CAAOmB,OAAK,EAACC,KAAK,YAAYC,UAAWN,c,GARjCxB,IAAMC,WCET+B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjD,MAAK,YAAkD,IAA/CkD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.1c0c5b4a.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n    apiKey: \"AIzaSyA98gmnn7pfTKXLph44xlrAbqVwipCnvaU\",\n    authDomain: \"front-end-assignment.firebaseapp.com\",\n    projectId: \"front-end-assignment\",\n    storageBucket: \"front-end-assignment.appspot.com\",\n    messagingSenderId: \"270786003076\",\n    appId: \"1:270786003076:web:53f49b4bf412bfd4b502d1\",\n    measurementId: \"G-BCGTV7175T\"\n  };\n\nfirebase.initializeApp(config);\n\nexport const createUserProfileDocument = async (\n  userAuth,\n  otherRelevantData\n) => {\n  if (!userAuth) return;\n\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\n\n  const snapShot = await userRef.get();\n\n  if (!snapShot.exists) {\n    const { displayName, email } = userAuth;\n    const createdAt = new Date();\n\n    try {\n      await userRef.set({\n        email,\n        createdAt,\n        ...otherRelevantData,\n      });\n    } catch (err) {\n      console.log('error creating user', err.message);\n    }\n  }\n  return userRef;\n};\n\nexport const addCollectionsAndDocument = async (\n  collectionKey,\n  objectsToAdd\n) => {\n  const collectionRef = firestore.collection(collectionKey);\n\n  const batch = firestore.batch();\n\n  objectsToAdd.forEach((obj) => {\n    const newDocRef = collectionRef.doc();\n    batch.set(newDocRef, obj);\n  });\n\n  return await batch.commit();\n};\n\nexport const convertCollectionsToMap = (collections) => {\n  const transformedColletions = collections.docs.map((collection) => {\n    const { title, items } = collection.data();\n\n    return {\n      routeName: encodeURI(title.toLowerCase()),\n      id: collection.id,\n      title,\n      items,\n    };\n  });\n\n  return transformedColletions.reduce((accumulator, collection) => {\n    accumulator[collection.title.toLowerCase()] = collection;\n    return accumulator;\n  }, {});\n  //console.log(transformedColletions);\n};\n\nexport const getCurrentUser = () => {\n  return new Promise((resolve, reject) => {\n    const unsubscribe = auth.onAuthStateChanged(userAuth => {\n      unsubscribe();\n      resolve(userAuth);\n    }, reject)\n  })\n}\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\ngoogleProvider.setCustomParameters({ prompt: 'select_account' });\n\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);\nexport default firebase;\n","import React from 'react';\nimport './header.styles.scss';\nimport{Link, withRouter} from 'react-router-dom';\nimport {auth} from '../../firebase/firebase.util';\n\n\nconst Header = ({history}) => (\n      <header className=\"header\">\n          <span className=\"header__brand\">\n               <Link to=\"/\"><h2>ASSIGNMENT</h2></Link>\n          </span>\n          <span>\n              {\n                  auth.currentUser ? \n                  <span className=\"link-button header__login-button\" \n                  onClick={\n                    () => {\n                      auth.signOut()\n                      .then(() => {\n                        history.push(\"/\");        \n                      })\n                      .catch((error) => {\n                        console.log(\"An error occured\", error.message);\n                      })\n                    }\n                    }>\n                    Logout\n                  </span>\n                  :\n                  <Link to=\"/signin\" className=\"link-button header__login-button\">\n                    Login\n                  </Link>\n              }   \n          </span>\n      </header >\n)\n\n\nexport default withRouter(Header);","import React from 'react';\nimport './home.styles.scss';\nimport {auth,firestore} from '../../firebase/firebase.util';\n\n\nclass Home extends React.Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            firstName: ''\n        }\n    }\n\n    componentDidMount(){\n        auth.onAuthStateChanged(async (user) => {\n            if (user) {\n                const userRef = firestore.doc(`users/${user.uid}`);\n\n                const snapShot = await userRef.get();\n                const userObj = await snapShot.data();\n                this.setState({firstName: userObj.firstName})\n                console.log(snapShot.data());\n            }\n          });\n    }\n\n  render(){\n    return (\n        <div className=\"container\">\n        {\n            auth.currentUser ?\n            <div>\n                {\n                    `Welcome ${this.state.firstName}`\n                }\n            </div>\n            :\n            <div>\n                Please sign in to continue\n            </div>\n        }\n        </div>\n    )\n  }\n}\n\nexport default Home;","import './custom-input.styles.scss';\n\nconst CustomInput = ({ label, handleChange, ...otherProps }) => (\n    <div className=\"group\">\n    <input className=\"form-input\" onChange={handleChange} {...otherProps} />\n    {label ? (\n      <label\n      className={`${\n        otherProps.value.length ? \"shrink\" : \"\"\n      } form-input-label`}\n      >\n        {label}\n      </label>\n    ) : null}\n  </div>\n)\n\nexport default CustomInput;","import React from 'react';\nimport './signin.scss';\nimport CustomInput from '../../components/custom-input/custom-input.component.jsx';\nimport {Link, withRouter} from 'react-router-dom'\nimport {auth} from '../../firebase/firebase.util';\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\n\nclass SignIn extends React.Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            email: '',\n            password: '',\n            loading: false\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const {email, password} = this.state;\n        this.setState({loading: true});\n        auth.signInWithEmailAndPassword(email, password)\n        .then((user) => {\n            if(user)\n                this.props.history.push(\"/\");\n\n                this.setState({loading: false});\n\n        })\n        .catch((error) => {\n          console.log(\"An error occured\",error.message)\n          this.setState({loading: false});\n\n        });\n    }\n\n    handleChange = (event) => {\n        const {name, value} = event.target;\n\n        this.setState({[name] : value});\n    }\n\n    render(){\n        return (\n            <div className=\"signin__container\">\n                <h3>Login</h3>\n                <form onSubmit={this.handleSubmit}>\n                    <CustomInput label=\"Email\" type=\"email\" name=\"email\" value={this.state.email} handleChange={this.handleChange} required/>\n                    <CustomInput label=\"Password\" type=\"password\"  name=\"password\" value={this.state.password}  handleChange={this.handleChange} required/>\n                    <button type=\"submit\" className=\"login-button\">Login</button>\n                </form>\n                <p className=\"account-exist\">Don't have an account? <Link to=\"/register\" className=\"login-sign-link\">Register</Link></p>\n                <ClipLoader className=\"loader\" color=\"#2d2d2d\" loading={this.state.loading} css=\" display: inline-block;\n  position: absolute;\n  top: 30%;\n  left: 50%;\n  transform: translateX(-80px);\" size={100} />\n\n            </div>\n        )\n    }\n} \n\nexport default withRouter(SignIn);","import React from 'react';\nimport './signup.scss';\nimport CustomInput from '../../components/custom-input/custom-input.component.jsx';\nimport {Link, withRouter} from 'react-router-dom';\nimport {auth,createUserProfileDocument} from '../../firebase/firebase.util';\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\n\n\n\nclass SignUp extends React.Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            firstName: '',\n            lastName: '',\n            email: '',\n            password: '',\n            loading: false\n        }\n    }\n\n    handleSubmit = (event) => {\n        const {firstName, lastName, email, password} = this.state;\n        event.preventDefault();\n        this.setState({loading: true});\n        auth.createUserWithEmailAndPassword(email, password)\n        .then(async (user) => {\n            console.log(\"First Info:\", user);\n            const newUser = await createUserProfileDocument(user.user, {firstName, lastName});\n            if(newUser){\n                this.props.history.push(\"/\");   \n                this.setState({loading: false}); \n            }    \n        })\n        .catch((error) => {\n            console.log(error);\n            this.setState({loading: false});\n        });\n    }\n\n    handleChange = (event) => {\n        const {name, value} = event.target;\n\n        this.setState({[name] : value});\n    }\n\n    render(){\n        return(\n            <div className=\"signup__container\">\n            <h3>Register</h3>\n            <form onSubmit={this.handleSubmit}>\n                <CustomInput label=\"First Name\" name=\"firstName\" type=\"text\" value={this.state.firstName} handleChange={this.handleChange} required/>\n                <CustomInput label=\"Last Name\" name=\"lastName\" type=\"text\" value={this.state.lastName} handleChange={this.handleChange} required/>\n                <CustomInput label=\"Email\" type=\"email\" name=\"email\" value={this.state.email} handleChange={this.handleChange}  required/>\n                <CustomInput label=\"Password\" type=\"password\" name=\"password\" value={this.state.password} handleChange={this.handleChange} required/>\n                <button type=\"submit\" className=\"register-button\">Register</button>\n            </form>\n            <p className=\"account-exist\">Already have an account? <Link to=\"/signin\" className=\"login-sign-link\">Login</Link></p>\n            <ClipLoader className=\"loader\" color=\"#2d2d2d\" loading={this.state.loading} css=\" display: inline-block;\n  position: absolute;\n  top: 30%;\n  left: 50%;\n  transform: translateX(-80px);\" size={150} />\n        </div>\n        )\n    }\n}\n\nexport default withRouter(SignUp);","import './App.css';\nimport React from 'react';\nimport Header from './components/header/header.component.jsx'\nimport {Switch, Route} from 'react-router-dom';\nimport Homepage from './pages/home/home.page.jsx'\nimport SignIn from './pages/signin/signin.page.jsx'\nimport SignUp from './pages/signup/signup.page.jsx'\nimport {auth} from './firebase/firebase.util';\n\n\nclass App extends React.Component {\n  render(){\n    return (\n      <div className=\"App\">\n        <Header user={auth.currentUser}/>\n        <Switch>\n          <Route exact path=\"/\" component={Homepage} />\n          <Route exact path=\"/signin\" component={SignIn} />\n          <Route exact path=\"/register\" component={SignUp} />\n\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}